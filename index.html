<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Můj první dashboard</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <h1>Můj první dashboard</h1>
  <!-- FILTR -->
  <label for="yearSelect">Rok:</label>
  <select id="yearSelect">
    <option value="2023">2023</option>
    <option value="2024" selected>2024</option>
  </select>

  <br><br>
  <!-- GRAFY -->
  <canvas id="barChart" width="600" height="300"></canvas>
  <br><br>
  <canvas id="lineChart" width="600" height="300"></canvas>
  <script>
    // DATA
    const dataByYear = {
      2023: {
        categories: [120, 90, 60],
        trend: [30, 50, 40, 70]
      },
      2024: {
        categories: [150, 110, 80],
        trend: [40, 60, 55, 90]
      }
    };

    const categoryLabels = ["Kategorie A", "Kategorie B", "Kategorie C"];
    const monthLabels = ["Q1", "Q2", "Q3", "Q4"];

    // SLOUPCOVÝ GRAF
    const barChart = new Chart(
      document.getElementById("barChart"),
      {
        type: "bar",
        data: {
          labels: categoryLabels,
          datasets: [{
            label: "Hodnota podle kategorií",
            data: dataByYear[2024].categories
          }]
        }
      }
    );

    // ČÁROVÝ GRAF
    const lineChart = new Chart(
      document.getElementById("lineChart"),
      {
        type: "line",
        data: {
          labels: monthLabels,
          datasets: [{
            label: "Trend v čase",
            data: dataByYear[2024].trend
          }]
        }
      }
    );

    // REAKCE NA ZMĚNU FILTRU
    document.getElementById("yearSelect").addEventListener("change", function () {
      const selectedYear = this.value;

      barChart.data.datasets[0].data =
        dataByYear[selectedYear].categories;

      lineChart.data.datasets[0].data =
        dataByYear[selectedYear].trend;

      barChart.update();
      lineChart.update();
    });
  </script>

</body>
</html>
